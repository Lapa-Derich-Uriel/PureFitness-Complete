@model PureFitness.Models.EquipmentSchedule
@{
    var items = ViewBag.EquipmentItems as List<PureFitness.Models.EquipmentItem> ?? new();
    var staffs = ViewBag.Staffs as List<PureFitness.Models.Staff> ?? new();
}

<form id="ScheduleForm" asp-action="CreateSchedule" method="post">
    @Html.AntiForgeryToken()

    <div class="modal-header">
        <h5 class="modal-title fw-semibold">Add Item Maintenance Schedule</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>

    <div class="modal-body">
        <!-- Equipment Item -->
        <div class="mb-3">
            <label for="EquipmentItemId" class="form-label">Equipment Item</label>
            <select id="EquipmentItemId" name="EquipmentItemId" class="form-select" required>
                <option value="" disabled selected>Select an item</option>
                @foreach (var it in items)
                {
                    <option value="@it.EquipmentItemId">
                        @it.EquipmentItemName (@it.Equipment?.EquipmentName)
                    </option>
                }
            </select>
        </div>

        <!-- Assigned Staff -->
        <div class="mb-3">
            <label for="StaffId" class="form-label">Assigned Staff</label>
            <select id="StaffId" name="StaffId" class="form-select" required>
                <option value="" disabled selected>Select staff</option>
                @foreach (var s in staffs)
                {
                    <option value="@s.StaffId">@s.Name</option>
                }
            </select>
        </div>

        <!-- Maintenance Date -->
        <div class="mb-3">
            <label for="MaintenanceDate" class="form-label">Maintenance Date</label>
            <input id="MaintenanceDate" type="date" name="MaintenanceDate" class="form-control" required />
        </div>

        <!-- Remarks -->
        <div class="mb-3">
            <label for="Remarks" class="form-label">Remarks</label>
            <textarea id="Remarks" name="Remarks" class="form-control" rows="3" placeholder="Optional remarks..."></textarea>
        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-dark">Save</button>
    </div>
</form>
